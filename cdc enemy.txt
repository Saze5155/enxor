
ğŸ“‹ CAHIER DES CHARGES COMPLET - SYSTÃˆME D'ENNEMIS

ğŸ¯ VUE D'ENSEMBLE
SystÃ¨me de gestion d'ennemis en 2 niveaux :

TYPES d'ennemis (templates rÃ©utilisables)
INSTANCES d'ennemis (crÃ©atures utilisÃ©es en combat)

Chaque type peut gÃ©nÃ©rer un article d'encyclopÃ©die (cachable aux joueurs).
Les ennemis uniques/boss ont leur propre article.

ğŸ“¦ 1. TYPES D'ENNEMIS (Templates)
1.1 Structure de DonnÃ©es
typescriptinterface TypeEnnemi {
  // Identifiant
  id: string; // "goblin", "paladin_humain_archetype"
  nom: string; // "Gobelin", "Paladin Humain"
  
  // CatÃ©gorie
  categorie: "creature_basique" | "archetype_classe" | "creature_custom";
  
  // Infos D&D 5e
  type_creature: "Aberration" | "BÃªte" | "CÃ©leste" | "Construction" | 
                 "Dragon" | "Ã‰lÃ©mentaire" | "FÃ©e" | "FiÃ©lon" | 
                 "GÃ©ant" | "HumanoÃ¯de" | "MonstruositÃ©" | "Mort-vivant" | 
                 "Plante" | "Vase";
  sous_type?: string; // "gobelinoÃ¯de", "elfe", etc.
  taille: "TP" | "P" | "M" | "G" | "TG" | "Gig";
  alignement: string; // "Neutre Mauvais", etc.
  
  // Stats de base
  stats_base: {
    ca: number;
    pv_formule: string; // "2d6", "8d10+16"
    pv_moyenne: number;
    vitesse: {
      marche: string; // "9m"
      vol?: string;
      nage?: string;
      fouissement?: string;
      escalade?: string;
    };
    
    caracteristiques: {
      force: number;
      dexterite: number;
      constitution: number;
      intelligence: number;
      sagesse: number;
      charisme: number;
    };
    
    jets_sauvegarde?: Record<string, string>; // {"dexterite": "+2"}
    competences?: Record<string, string>; // {"discretion": "+6"}
    
    immunites_degats?: string[]; // ["feu", "poison"]
    resistances_degats?: string[];
    vulnerabilites_degats?: string[];
    immunites_conditions?: string[]; // ["charmÃ©", "empoisonnÃ©"]
    
    sens: {
      vision_aveugle?: string; // "9m"
      vision_dans_noir?: string; // "18m"
      vision_vraie?: string;
      perception_passive: number;
    };
    
    langues: string[]; // ["Commun", "Gobelin"]
    facteur_puissance: number; // 0.125, 0.25, 0.5, 1, 2, etc.
    xp: number;
  };
  
  // Actions
  actions: Action[];
  reactions?: Action[];
  actions_legendaires?: ActionLegendaire[];
  actions_legendaires_par_tour?: number;
  
  // CapacitÃ©s spÃ©ciales
  capacites_speciales?: CapaciteSpeciale[];
  
  // Pour les PNJ avec classe
  est_pnj_classe?: boolean;
  classe?: string; // "Paladin"
  race?: string; // "Humain"
  niveau_par_defaut?: number;
  template_stats?: {
    ca_formule?: string; // "16 + niveau/4"
    pv_formule?: string; // "d10_par_niveau"
    bonus_attaque_formule?: string; // "niveau/4 + 5"
  };
  equipement_type?: string[];
  sorts_typiques?: string[];
  capacites_classe?: string[];
  
  // EncyclopÃ©die
  description_encyclopedie: {
    courte: string; // Pour la liste
    longue: string; // Article complet
    habitat?: string;
    comportement?: string;
    tactiques?: string;
    butin?: string;
    variantes?: string; // Pour archÃ©types
  };
  
  image_url?: string;
  encyclopedie_article_id: string;
  
  // MÃ©tadonnÃ©es
  source: string; // "Player's Handbook", "Homebrew", "ImportÃ©"
  tags?: string[];
  created_by: string; // ID du MJ
  created_at: Date;
  updated_at: Date;
}

interface Action {
  nom: string;
  type: "attaque_corps_a_corps" | "attaque_distance" | "action_speciale";
  description?: string;
  
  // Pour les attaques
  bonus_attaque?: string; // "+4"
  allonge?: string; // "1,50m"
  portee?: string; // "24/96m"
  cible?: string; // "une cible"
  degats?: string; // "1d6+2 tranchants"
  degats_supplementaires?: string; // "1d8 feu"
  
  // Pour actions spÃ©ciales
  jet_sauvegarde?: {
    type: string; // "dexterite"
    dd: number;
    effet_reussite?: string;
    effet_echec?: string;
  };
  zone?: string; // "cÃ´ne de 9m", "sphÃ¨re de 6m"
  recharge?: string; // "5-6", "1/jour"
  utilisation?: {
    type: "repos_court" | "repos_long" | "par_jour" | "recharge";
    nombre?: number;
    des_recharge?: string; // "5-6"
  };
}

interface ActionLegendaire {
  nom: string;
  cout: number; // CoÃ»t en actions lÃ©gendaires
  description: string;
}

interface CapaciteSpeciale {
  nom: string;
  description: string;
  utilisation?: {
    type: string;
    nombre?: number;
  };
}
```

---

### **1.2 CrÃ©ation d'un Type d'Ennemi**

**OPTION A : CrÃ©ation Manuelle ComplÃ¨te**
```
Interface avec formulaire multi-onglets :
- Onglet "Infos de Base"
- Onglet "Stats"
- Onglet "Actions"
- Onglet "CapacitÃ©s SpÃ©ciales"
- Onglet "EncyclopÃ©die"
OPTION B : GÃ©nÃ©rateur AssistÃ© (ProcÃ©dural + IA optionnelle)
javascript// 1. GÃ‰NÃ‰RATEUR PROCÃ‰DURAL (toujours gratuit)
function genererStatsProcedural(concept, fp, type_creature, taille) {
  // RÃ©cupÃ¨re les stats de base selon le FP (table DMG)
  const statsBase = getStatsBaseParFP(fp);
  
  // Ajuste selon le type de crÃ©ature
  const ajustements = getAjustementsType(type_creature);
  // Ex: Mort-vivant â†’ immunitÃ© poison
  // Ex: Dragon â†’ rÃ©sistance selon Ã©lÃ©ment
  
  // GÃ©nÃ¨re des attaques cohÃ©rentes
  const attaques = genererAttaquesParFP(fp, type_creature, taille);
  
  // Ajoute capacitÃ©s thÃ©matiques
  const capacites = genererCapacitesThematiques(concept, type_creature);
  
  return {
    stats_base: { ...statsBase, ...ajustements },
    actions: attaques,
    capacites_speciales: capacites
  };
}

// 2. ENRICHISSEMENT IA (optionnel, utilise Claude)
async function enrichirAvecIA(statsGeneres, concept) {
  // âš ï¸ ALERTE UTILISATEUR
  const confirmation = await showAlert({
    titre: "Enrichir avec l'IA",
    message: "Cette fonctionnalitÃ© utilise Claude et compte dans votre quota d'abonnement. Continuer ?",
    type: "warning",
    boutons: ["Annuler", "Continuer"]
  });
  
  if (confirmation === "Annuler") return statsGeneres;
  
  // Appel Ã  Claude API
  const lore = await fetch("https://api.anthropic.com/v1/messages", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      model: "claude-sonnet-4-20250514",
      max_tokens: 1500,
      messages: [{
        role: "user",
        content: `Tu es un maÃ®tre du jeu D&D 5e. GÃ©nÃ¨re une description dÃ©taillÃ©e et immersive pour cette crÃ©ature :

Nom : ${concept}
Type : ${statsGeneres.type_creature}
FP : ${statsGeneres.stats_base.facteur_puissance}

Retourne UNIQUEMENT un JSON avec :
{
  "description_longue": "Description narrative de 2-3 paragraphes",
  "habitat": "OÃ¹ vit cette crÃ©ature",
  "comportement": "Comment elle agit",
  "tactiques": "Sa stratÃ©gie de combat",
  "butin": "Ce qu'on peut rÃ©cupÃ©rer sur elle"
}`
      }]
    })
  });
  
  const data = await response.json();
  const lore = JSON.parse(data.content[0].text);
  
  return {
    ...statsGeneres,
    description_encyclopedie: {
      courte: lore.description_longue.substring(0, 150) + "...",
      ...lore
    }
  };
}
```

**Interface GÃ©nÃ©rateur :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GÃ‰NÃ‰RATEUR D'ENNEMI                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Concept ou Nom :                                   â”‚
â”‚  [Dragon de glace juvÃ©nile                       ]  â”‚
â”‚                                                      â”‚
â”‚  Facteur de Puissance (FP) :                        â”‚
â”‚  [â”â”â”â”â”â”â—‹â”â”â”â”â”â”â”â”â”â”] FP 5                         â”‚
â”‚  âš ï¸ FP 5 = DÃ©fi pour groupe niveau 5 (4 joueurs)   â”‚
â”‚                                                      â”‚
â”‚  Type de CrÃ©ature :                                 â”‚
â”‚  [Dropdown: Dragon â–¼]                               â”‚
â”‚                                                      â”‚
â”‚  Taille :                                           â”‚
â”‚  [Dropdown: Grande â–¼]                               â”‚
â”‚                                                      â”‚
â”‚  Notes additionnelles (optionnel) :                 â”‚
â”‚  [Crache de la glace, plutÃ´t dÃ©fensif           ]  â”‚
â”‚                                                      â”‚
â”‚  [âš¡ GÃ©nÃ©rer les Stats] â† Gratuit, instantanÃ©      â”‚
â”‚                                                      â”‚
â”‚  â”€â”€â”€ Enrichissement Optionnel â”€â”€â”€                   â”‚
â”‚  â˜ Enrichir avec l'IA (Claude)                     â”‚
â”‚     ğŸ¤– GÃ©nÃ¨re description dÃ©taillÃ©e                 â”‚
â”‚     âš ï¸ Utilise votre quota Claude                   â”‚
â”‚                                                      â”‚
â”‚  [CrÃ©er le Type d'Ennemi]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**OPTION C : Depuis un Template PrÃ©-fait**
```
BibliothÃ¨que de crÃ©atures officielles D&D 5e :
- Gobelin (FP 1/4)
- Orc (FP 1/2)
- Loup (FP 1/4)
- Ogre (FP 2)
- Dragon Rouge Adulte (FP 17)
- etc. (50+ crÃ©atures de base)

Action : [Utiliser tel quel] ou [Dupliquer et Modifier]
OPTION D : Import JSON
javascript// Format supportÃ© : Standard D&D 5e JSON
interface ImportedStatblock {
  name: string;
  size: string;
  type: string;
  // ... format standard des sites comme D&D Beyond, Homebrewery, etc.
}

function importerJSON(jsonFile) {
  // Parser le JSON
  const data = JSON.parse(jsonFile);
  
  // Convertir au format interne
  const typeEnnemi = convertirVersFormatInterne(data);
  
  // Sauvegarder
  return sauvegarderType(typeEnnemi);
}
```

**Interface Import :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IMPORTER UN STATBLOCK                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Glissez un fichier JSON ou collez :    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ {                                  â”‚ â”‚
â”‚  â”‚   "name": "Goblin Boss",          â”‚ â”‚
â”‚  â”‚   "size": "Small",                â”‚ â”‚
â”‚  â”‚   "type": "humanoid",             â”‚ â”‚
â”‚  â”‚   ...                             â”‚ â”‚
â”‚  â”‚ }                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  Formats supportÃ©s :                     â”‚
â”‚  â€¢ D&D 5e JSON Standard                 â”‚
â”‚  â€¢ D&D Beyond Export                    â”‚
â”‚  â€¢ Homebrewery Format                   â”‚
â”‚                                          â”‚
â”‚  [ğŸ“¤ Importer] [Annuler]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ­ 2. INSTANCES D'ENNEMIS
2.1 Structure de DonnÃ©es
typescriptinterface InstanceEnnemi {
  // Identifiant
  instance_id: string;
  type_base_id: string; // RÃ©fÃ©rence au Type
  
  // Personnalisation
  est_unique: boolean; // true = boss/PNJ nommÃ©, false = basic
  est_boss?: boolean;
  est_pnj_classe?: boolean;
  
  nom_personnalise?: string; // "Grishnak le Sanguinaire"
  titre?: string; // "Chef de la Tribu des CrÃ¢nes"
  
  // Modifications (uniquement si est_unique = true)
  modifications_stats?: {
    ca?: string; // "+2", "=18"
    pv_formule?: string;
    pv_moyenne?: number;
    caracteristiques?: Record<string, string>; // {"force": "+4"}
    vitesse?: Partial<Vitesse>;
  };
  
  capacites_supplementaires?: CapaciteSpeciale[];
  equipement_special?: string[];
  
  // Pour PNJ classe
  niveau?: number;
  alignement?: string;
  stats_calculees?: any; // CalculÃ©es selon niveau
  sorts_prepares?: string[];
  equipement?: string[];
  
  // Roleplay (pour ennemis uniques)
  description_personnelle?: string;
  personnalite?: string;
  motivations?: string;
  secrets?: string;
  relation_joueurs?: string;
  
  // Combat
  pv_actuels: number;
  pv_max: number;
  statut: "vivant" | "mort" | "inconscient" | "fuite";
  conditions: string[]; // ["empoisonnÃ©", "Ã©tourdi"]
  
  // Tracking
  recurrent: boolean; // Peut revenir dans plusieurs combats
  apparitions: {
    session: number;
    date: Date;
    resultat: "victoire_joueurs" | "fuite" | "mort" | "en_cours";
  }[];
  
  // EncyclopÃ©die
  a_article_encyclopedie_propre: boolean;
  encyclopedie_article_id?: string;
  
  // MÃ©tadonnÃ©es
  created_at: Date;
  utilise_dans_combats: string[]; // IDs des combats
}
```

---

### **2.2 CrÃ©ation d'une Instance**

**CAS 1 : Ennemi Basique/Anonyme**
```
Workflow simple :
1. SÃ©lectionner un Type ("Gobelin")
2. Indiquer la quantitÃ© (ex: 4)
3. â†’ CrÃ©e 4 instances : "Gobelin #1", "#2", "#3", "#4"
4. HÃ©ritent des stats du Type
5. PV trackÃ©s individuellement en combat
```

**CAS 2 : Ennemi Unique/Boss**
```
Workflow dÃ©taillÃ© :
1. SÃ©lectionner Type de base
2. Formulaire multi-onglets :
   - IdentitÃ© (nom, titre, boss?)
   - Stats modifiÃ©es
   - CapacitÃ©s supplÃ©mentaires
   - Ã‰quipement spÃ©cial
   - Lore/RP
3. Option : CrÃ©er article encyclopÃ©die dÃ©diÃ©
4. Sauvegarder
```

**Interface Boss :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CRÃ‰ER UN ENNEMI UNIQUE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  [Onglet: IdentitÃ©] [Stats] [CapacitÃ©s] [Lore]      â”‚
â”‚                                                       â”‚
â”‚  â”€â”€â”€ IDENTITÃ‰ â”€â”€â”€                                    â”‚
â”‚                                                       â”‚
â”‚  BasÃ© sur le type :                                  â”‚
â”‚  [Rechercher... Gobelin â–¼] [ğŸ‘ï¸ Voir stats de base] â”‚
â”‚                                                       â”‚
â”‚  Nom personnalisÃ© :                                  â”‚
â”‚  [Grishnak le Sanguinaire                        ]   â”‚
â”‚                                                       â”‚
â”‚  Titre (optionnel) :                                 â”‚
â”‚  [Chef de la Tribu des CrÃ¢nes                    ]   â”‚
â”‚                                                       â”‚
â”‚  â˜‘ï¸ C'est un Boss                                    â”‚
â”‚     â†’ Peut avoir actions lÃ©gendaires                 â”‚
â”‚     â†’ Article encyclopÃ©die dÃ©diÃ©                     â”‚
â”‚                                                       â”‚
â”‚  â˜‘ï¸ Ennemi rÃ©current                                 â”‚
â”‚     â†’ Peut rÃ©apparaÃ®tre dans plusieurs sessions      â”‚
â”‚                                                       â”‚
â”‚  [Onglet suivant: Stats â†’]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CAS 3 : PNJ avec Classe**
```
Workflow spÃ©cialisÃ© :
1. Choisir Race + Classe + Niveau
2. Le systÃ¨me calcule automatiquement :
   - CA selon Ã©quipement
   - PV selon dÃ© de vie de classe
   - Bonus attaque selon niveau
   - DD sorts
3. SÃ©lectionner :
   - Sous-classe
   - Sorts prÃ©parÃ©s
   - Dons (selon niveau)
   - Ã‰quipement
4. Ajouter infos RP
5. Sauvegarder
```

**Interface PNJ Classe :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CRÃ‰ER UN PNJ AVEC CLASSE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  [Onglet: IdentitÃ©] [Build] [Ã‰quipement] [RP]       â”‚
â”‚                                                       â”‚
â”‚  â”€â”€â”€ IDENTITÃ‰ â”€â”€â”€                                    â”‚
â”‚                                                       â”‚
â”‚  Nom : [Capitaine Aldric                         ]   â”‚
â”‚  Titre : [Capitaine de la Garde Royale          ]   â”‚
â”‚                                                       â”‚
â”‚  Race : [Dropdown: Humain â–¼]                         â”‚
â”‚  Classe : [Dropdown: Paladin â–¼]                      â”‚
â”‚  Niveau : [â”â”â”â”â”â—‹â”â”â”â”â”â”â”â”â”â”] Niveau 8              â”‚
â”‚                                                       â”‚
â”‚  Alignement : [Dropdown: Loyal Bon â–¼]               â”‚
â”‚                                                       â”‚
â”‚  â˜ C'est un boss                                     â”‚
â”‚  â˜‘ï¸ Ennemi rÃ©current                                 â”‚
â”‚  â˜‘ï¸ AlliÃ© potentiel                                  â”‚
â”‚                                                       â”‚
â”‚  â”€â”€â”€ STATS CALCULÃ‰ES AUTOMATIQUEMENT â”€â”€â”€            â”‚
â”‚                                                       â”‚
â”‚  CA : 18 (Harnois + Dex)                            â”‚
â”‚  PV : 72 (8d10+16)                                   â”‚
â”‚  Bonus Attaque : +7                                  â”‚
â”‚  DD Sorts : 15                                       â”‚
â”‚                                                       â”‚
â”‚  [Onglet suivant: Build â†’]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“– 3. SYSTÃˆME D'ENCYCLOPÃ‰DIE
3.1 Article pour Type de Base
markdown# Gobelin
*Petite crÃ©ature, Neutre Mauvais*

[Image d'un gobelin gÃ©nÃ©rique]

Les gobelins sont de petits humanoÃ¯des malveillants qui vivent en tribus dans les cavernes...

## Habitat
Cavernes, ruines, forÃªts sombres

## Comportement  
LÃ¢ches individuellement, dangereux en meute. Fuient si leurs pertes sont lourdes.

## Tactiques de Combat
Embuscades, attaques surprises, utilisation du terrain

## Butin Typique
5-15 piÃ¨ces de cuivre, armes de mauvaise qualitÃ©

---

### ğŸ‘‘ Interface MJ uniquement :

[ğŸ“Š Voir Statblock Complet]
[â• CrÃ©er Instance de Combat]
[âœï¸ Modifier ce Type]

**Statistiques d'utilisation :**
- UtilisÃ© dans 12 combats
- 2 ennemis uniques basÃ©s sur ce type
VisibilitÃ© :

â˜‘ï¸ Visible par les joueurs (lore uniquement)
ğŸ”’ CachÃ© (invisible aux joueurs)
ğŸ‘ï¸ Partiel (description visible, stats cachÃ©es)


3.2 Article pour Ennemi Unique
markdown# Grishnak le Sanguinaire
*Chef de la Tribu des CrÃ¢nes*

[Image personnalisÃ©e]

## ğŸš¨ SPOILER - Visible MJ uniquement

Grishnak est un gobelin exceptionnellement grand et cruel qui a unifiÃ© trois tribus gobelinoÃ¯des...

## Apparence
Couvert de cicatrices de bataille, porte les crÃ¢nes de ses ennemis en trophÃ©es autour de son cou...

## PersonnalitÃ©
Cruel, calculateur, respecte uniquement la force brute

## Histoire
Fils du prÃ©cÃ©dent chef, a tuÃ© son pÃ¨re pour prendre le pouvoir...

## Motivations
ConquÃ©rir la rÃ©gion, Ã©tablir un royaume gobelin

## Secrets
[CachÃ© aux joueurs] PossÃ¨de un artefact magique volÃ©...

---

### ğŸ‘‘ Interface MJ :

[ğŸ“Š Voir Statblock]
[âš”ï¸ Ajouter au Combat Actuel]
[âœï¸ Modifier]
[ğŸ‘ï¸ RÃ©vÃ©ler aux Joueurs]

**Historique d'apparitions :**
- Session 3 (15 Jan 2026) : Combat dans les mines - Fuite Ã  10 PV
- Session 7 (12 FÃ©v 2026) : Embuscade sur la route - En cours

**Liens :**
- ğŸ”— Tribu des CrÃ¢nes
- ğŸ”— Mines AbandonnÃ©es de Karak
- ğŸ”— Artefact : Amulette de l'Ombre

ğŸ“¥ 4. SYSTÃˆME D'IMPORT/EXPORT
4.1 Import JSON
Formats supportÃ©s :

Format Standard D&D 5e (le plus courant)
D&D Beyond Export
Homebrewery Format
Improved Initiative Format

Parser JSON :
javascriptfunction importerStatblock(jsonData) {
  // DÃ©tecter le format
  const format = detecterFormat(jsonData);
  
  // Convertir vers format interne
  let typeEnnemi;
  switch(format) {
    case "standard":
      typeEnnemi = convertirDepuisStandard(jsonData);
      break;
    case "dndbeyond":
      typeEnnemi = convertirDepuisDnDBeyond(jsonData);
      break;
    case "homebrewery":
      typeEnnemi = convertirDepuisHomebrewery(jsonData);
      break;
    default:
      throw new Error("Format non reconnu");
  }
  
  // Valider les donnÃ©es
  const erreurs = validerTypeEnnemi(typeEnnemi);
  if (erreurs.length > 0) {
    return { erreurs, typeEnnemi: null };
  }
  
  // Sauvegarder
  typeEnnemi.source = "ImportÃ©";
  typeEnnemi.created_by = currentUserId;
  
  return { erreurs: [], typeEnnemi };
}
```

**Interface Import :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IMPORTER UN STATBLOCK                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  MÃ©thode 1 : Glisser-dÃ©poser                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚   ğŸ“„ Glissez votre fichier JSON ici         â”‚   â”‚
â”‚  â”‚      ou cliquez pour parcourir               â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                      â”‚
â”‚  MÃ©thode 2 : Coller le JSON                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ {                                            â”‚   â”‚
â”‚  â”‚   "name": "Goblin Boss",                    â”‚   â”‚
â”‚  â”‚   "size": "Small",                          â”‚   â”‚
â”‚  â”‚   ...                                        â”‚   â”‚
â”‚  â”‚ }                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                      â”‚
â”‚  Formats dÃ©tectÃ©s automatiquement :                 â”‚
â”‚  âœ“ D&D 5e JSON Standard                            â”‚
â”‚  âœ“ D&D Beyond Export                               â”‚
â”‚  âœ“ Homebrewery                                     â”‚
â”‚  âœ“ Improved Initiative                             â”‚
â”‚                                                      â”‚
â”‚  [ğŸ“¤ Importer et PrÃ©visualiser]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**PrÃ©visualisation aprÃ¨s import :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PRÃ‰VISUALISATION DE L'IMPORT                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  âœ… Import rÃ©ussi !                                 â”‚
â”‚                                                      â”‚
â”‚  CrÃ©ature importÃ©e : Goblin Boss                    â”‚
â”‚  Type : HumanoÃ¯de (gobelinoÃ¯de)                    â”‚
â”‚  FP : 1                                             â”‚
â”‚  Source dÃ©tectÃ©e : D&D Beyond                       â”‚
â”‚                                                      â”‚
â”‚  [Afficher le Statblock Complet â–¼]                 â”‚
â”‚                                                      â”‚
â”‚  Voulez-vous :                                      â”‚
â”‚  â—‹ Sauvegarder tel quel                            â”‚
â”‚  â—‹ Modifier avant de sauvegarder                   â”‚
â”‚                                                      â”‚
â”‚  [ğŸ’¾ Sauvegarder] [âœï¸ Modifier] [âŒ Annuler]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **4.2 Export**

**Formats d'export :**
1. **JSON** (pour partage/backup)
2. **Markdown** (pour impression)
3. **Image PNG** (statblock stylisÃ© D&D)
4. **PDF** (fiche imprimable)

**Interface Export :**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EXPORTER : Grishnak le Sanguinaire    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Format :                                â”‚
â”‚  â—‹ JSON (partage/backup)                â”‚
â”‚  â—‹ Markdown (impression simple)         â”‚
â”‚  â—‹ Image PNG (statblock stylisÃ©)       â”‚
â”‚  â—‹ PDF (fiche complÃ¨te)                 â”‚
â”‚                                          â”‚
â”‚  Options :                               â”‚
â”‚  â˜‘ï¸ Inclure l'image                     â”‚
â”‚  â˜‘ï¸ Inclure le lore                     â”‚
â”‚  â˜ Inclure les notes privÃ©es MJ        â”‚
â”‚                                          â”‚
â”‚  [ğŸ“¥ TÃ©lÃ©charger]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš”ï¸ **5. UTILISATION EN COMBAT**

### **5.1 Ajouter des ennemis au combat**
```
Interface MJ pendant un combat :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AJOUTER DES ENNEMIS AU COMBAT         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [ğŸ” Rechercher un ennemi...]           â”‚
â”‚                                          â”‚
â”‚  Types frÃ©quents :                       â”‚
â”‚  â€¢ Gobelin (FP 1/4)        [+1] [+5]   â”‚
â”‚  â€¢ Orc (FP 1/2)            [+1] [+5]   â”‚
â”‚  â€¢ Loup (FP 1/4)           [+1] [+5]   â”‚
â”‚                                          â”‚
â”‚  Ennemis uniques :                       â”‚
â”‚  â€¢ Grishnak le Sanguinaire [Ajouter]    â”‚
â”‚  â€¢ Capitaine Aldric        [Ajouter]    â”‚
â”‚                                          â”‚
â”‚  â”€â”€â”€ Panier â”€â”€â”€                          â”‚
â”‚  3Ã— Gobelin                              â”‚
â”‚  1Ã— Grishnak le Sanguinaire             â”‚
â”‚                                          â”‚
â”‚  DifficultÃ© estimÃ©e : Moyenne            â”‚
â”‚  (4 joueurs niveau 5)                    â”‚
â”‚                                          â”‚
â”‚  [âš”ï¸ Lancer le Combat]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **5.2 Tracking pendant le combat**
```
Tracker d'initiative avec ennemis :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ORDRE D'INITIATIVE - Round 2          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  [23] ğŸ¯ Strix (Joueur)                â”‚
â”‚       82/82 PV                           â”‚
â”‚                                          â”‚
â”‚  [19] ğŸ‘¹ Grishnak le Sanguinaire        â”‚
â”‚       12/36 PV â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ (33%)        â”‚
â”‚       ğŸ”¥ En feu (1d6/tour)              â”‚
â”‚       [Actions â–¼] [Conditions â–¼]        â”‚
â”‚                                          â”‚
â”‚  [15] ğŸ‘¤ Elara (Joueur)                â”‚
â”‚       45/58 PV                           â”‚
â”‚                                          â”‚
â”‚  [12] ğŸ‘¹ Gobelin #1                     â”‚
â”‚       7/7 PV â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (100%)          â”‚
â”‚                                          â”‚
â”‚  [12] ğŸ‘¹ Gobelin #2                     â”‚
â”‚       3/7 PV â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ (43%)          â”‚
â”‚                                          â”‚
â”‚  [10] ğŸ‘¹ Gobelin #3                     â”‚
â”‚       ğŸ’€ Mort                            â”‚
â”‚                                          â”‚
â”‚  [8] ğŸ‘¤ Thorin (Joueur)                â”‚
â”‚      28/65 PV                            â”‚
â”‚                                          â”‚
â”‚  [Tour Suivant â†’]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š **6. BASE DE DONNÃ‰ES INITIALE**

### **6.1 CrÃ©atures Officielles PrÃ©-chargÃ©es**

**Liste minimale (50 crÃ©atures de base) :**
```
FP 0:
- Rat, Chat, Crabe, etc.

FP 1/8:
- Bandit, Garde, Cultiste

FP 1/4:
- Gobelin, Squelette, Loup, Zombi

FP 1/2:
- Orc, Hobgobelin, Gnoll

FP 1:
- Goule, Loup Sanguinaire, Espion

FP 2:
- Ogre, Minotaure, Ettercap

FP 3:
- Chevalier, VÃ©tÃ©ran, Basilic

FP 4:
- Ã‰trangeur, Ã‰lÃ©mentaire (Terre/Eau)

FP 5:
- Ã‰lÃ©mentaire (Air/Feu), Troll, Gorgone

FP 8-10:
- GÃ©ant, Jeune Dragon

FP 15-20:
- Dragon Adulte, Balor, Golem

FP 20+:
- Dragon Ancien, Liche, Tarrasque
Je vais crÃ©er un fichier JSON avec ces crÃ©atures de base !

âœ… RÃ‰CAPITULATIF FINAL
Le systÃ¨me permet :

âœ… CrÃ©er des Types d'ennemis (templates)

Manuellement
Via gÃ©nÃ©rateur procÃ©dural (gratuit)
Enrichi par IA (optionnel, avec alerte)
Depuis templates prÃ©-faits
Via import JSON


âœ… CrÃ©er des Instances (ennemis de combat)

Basiques/Anonymes (Gobelin #1, #2...)
Uniques/Boss (Grishnak...)
PNJ avec classe (Capitaine Aldric...)


âœ… EncyclopÃ©die auto-gÃ©nÃ©rÃ©e

Article par Type (gÃ©nÃ©rique)
Article par Ennemi Unique (personnalisÃ©)
VisibilitÃ© contrÃ´lÃ©e (MJ/Joueurs)


âœ… Import/Export

Import JSON (multiple formats)
Export JSON/Markdown/Image/PDF


âœ… Utilisation en combat

Ajout facile au combat
Tracking PV/Conditions
Initiative automatique